vehicle_df_final2 <- rbind(vehicle_df_final2, makeupdata)
vehicle_df_final2 <- vehicle_df_final2[order(vehicle_df_final2$Type),]
vehicle_df_final2 <- vehicle_df_final2[order(vehicle_df_final2$Year),]
vehicle_df_final2$Year <- as.numeric(vehicle_df_final2$Year)
vehicle_df_final2$Vehicle <- as.numeric(vehicle_df_final2$Vehicle)
vehicle_df_final2$Fuel <- as.numeric(vehicle_df_final2$Fuel)
vehicle_df_final2$Speed <- as.numeric(vehicle_df_final2$Speed)
vehicle_df_final2$Prop <- as.numeric(vehicle_df_final2$Prop)
vehicle_df_final2$Type <- factor(vehicle_df_final2$Type)
p34 <- vehicle_df_final2 %>%
plot_ly(x = ~Fuel, y = ~Speed, color = ~Type,
size = ~Prop^(1/3) * 60, colors = kaicolorset2,
type = 'scatter', mode = 'markers', frame = ~Year,
opacity = 0.3,
sizes = 60*(c(min(vehicle_df_final2$Prop), max(vehicle_df_final2$Prop)))^(1/3),
marker = list(symbol = 'circle', sizemode = 'diameter',
line = list(width = 0.5, color = '#FFFFFF')),
text = ~paste(Type, ':<br>', Prop*100, '%')) %>%
layout(title = 'Fuel Stations vs Increasing Speed of Vehicles',
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(0, 5300),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = '# of Fuel Stations',
gridcolor = 'rgb(255, 255, 255)',
zerolinewidth = 1,
ticklen = 5,
gridwith = 2),
paper_bgcolor = 'rgb(243, 243, 243)',
plot_bgcolor = 'rgb(243, 243, 243)'
)%>%
animation_opts(1000, easing = "elastic") %>%
animation_button(
x = 1, xanchor = "right", y = 0, yanchor = "top"
) %>%
animation_slider(
currentvalue = list(prefix = "Year ", font = list(color="red"))
)
fuel_vehicle_add3
vehicle_df_final3
str(vehicle_df_final3)
vehicle_df_final2
colnames(vehicle_df_final2) <- 1:nrow(vehicle_df_final2)
rownames(vehicle_df_final2) <- 1:nrow(vehicle_df_final2)
which(vehicle_df_final2$Speed ==0)[-1]
vehicle_df_final3 <- vehicle_df_final2[which(vehicle_df_final2$Speed ==0)[-1],]
vehicle_df_final3
vehicle_df_final3 <- vehicle_df_final2[!which(vehicle_df_final2$Speed ==0)[-1],]
vehicle_df_final3
(which(vehicle_df_final2$Speed ==0)
)
regular <- regular[1:(length(regular)-1)]
regular <- which(vehicle_df_final2$Speed ==0)
regular <- regular[1:(length(regular)-1)]
regular <- which(vehicle_df_final2$Speed ==0)
regular <- regular[1:(length(regular)-1)]
regular
vehicle_df_final3 <- vehicle_df_final2[-regular,]
str(vehicle_df_final3)
reg_df <- data.frame(add_station = fuel_vehicle_add3,
rate_increasing = vehicle_df_final3)
reg_df <- data.frame(add_station = fuel_vehicle_add3,
rate_increasing = vehicle_df_final3)
reg_df <- reg_df[order(reg_df$rate_increasing),]
order(reg_df$rate_increasing)
reg_df <- data.frame(add_station = fuel_vehicle_add3,
rate_increasing = vehicle_df_final3)
reg_df$rate_increasing
reg_df <- data.frame(add_station = fuel_vehicle_add3,
rate_increasing = vehicle_df_final3)
vehicle_df_final3
reg_df <- data.frame(add_station = fuel_vehicle_add3,
rate_increasing = vehicle_df_final3$Speed)
reg_df <- reg_df[order(reg_df$rate_increasing),]
reg_df
reg_df %>%
plot_ly(x =~ rate_increasing) %>%
add_trace(y = ~add_station, name = 'good', type = "scatter", mode = 'scatter+lines')
reg_df %>%
plot_ly(x =~ rate_increasing) %>%
add_trace(y = ~add_station, name = 'good', type = "scatter", mode = 'scatter+lines') %>%
add_lines(y = ~add_station, name = "spline", line = list(shape = "spline"))
reg_df %>%
plot_ly(x =~ rate_increasing) %>%
add_trace(y = ~add_station, name = 'good', type = "scatter", mode = 'scatter') %>%
add_lines(y = ~add_station, name = "spline", line = list(shape = "spline"))
reg_df <- data.frame(add_station = fuel_vehicle_add3,
rate_increasing = vehicle_df_final3$Speed,
Type = vehicle_df_final3$Type)
reg_df <- reg_df[order(reg_df$rate_increasing),]
reg_df %>%
plot_ly(data = reg_df, x = ~rate_increasing, y = ~add_station, color = ~Type)
reg_df
str(reg_df$Type)
str(reg_df$add_station)
str(reg_df$rate_increasing)
reg_df %>%
plot_ly(data = reg_df, x = ~rate_increasing, y = ~add_station, color = ~Type)
p <- plot_ly(data = iris, x = ~Sepal.Length, y = ~Petal.Length, color = ~Species)
p <- plot_ly(data = iris, x = ~Sepal.Length, y = ~Petal.Length, color = ~Species)
p
iris
iris$Species
reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type)
reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type) #>#
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type) %>%
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
reg_df
vehicle_df_final3
reg_df <- data.frame(add_station = fuel_vehicle_add3,
rate_increasing = vehicle_df_final3$Speed,
Type = vehicle_df_final3$Type,
Year = vehicle_df_final3$Year)
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~Year) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year)) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
p35
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year)) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
p35
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year)) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
runApp()
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year), frame~Year) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
) %>%
animation_opts(1000, easing = "elastic") %>%
animation_button(
x = 1, xanchor = "right", y = 0, yanchor = "top"
) %>%
animation_slider(
currentvalue = list(prefix = "Year ", font = list(color="red"))
)
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year), frame~Year) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
) %>%
animation_opts(1000, easing = "elastic") %>%
animation_button(
x = 1, xanchor = "right", y = 0, yanchor = "top"
) %>%
animation_slider(
currentvalue = list(prefix = "Year ", font = list(color="red"))
)
warnings()
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year), frame~Year) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
) %>%
animation_opts(1000, easing = "elastic") %>%
animation_button(
x = 1, xanchor = "right", y = 0, yanchor = "bottom"
) %>%
animation_slider(
currentvalue = list(prefix = "Year ", font = list(color="red"))
)
p35
p35
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year), frame = ~Year) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
) %>%
animation_opts(1000, easing = "elastic") %>%
animation_button(
x = 1, xanchor = "right", y = 0, yanchor = "bottom"
) %>%
animation_slider(
currentvalue = list(prefix = "Year ", font = list(color="red"))
)
p35
?animation_opts
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year), frame = ~Year) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
) %>%
animation_opts(1000) %>%
animation_button(
x = 1, xanchor = "right", y = 0, yanchor = "bottom"
) %>%
animation_slider(
currentvalue = list(prefix = "Year ", font = list(color="red"))
)
p35
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year), frame = ~Year) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
p35
?animation_opts
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year), frame = ~Year) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
) %>%
animation_opts(1000) %>%
animation_button(
x = 1, xanchor = "right", y = 0, yanchor = "bottom", mode = "afterall"
) %>%
animation_slider(
currentvalue = list(prefix = "Year ", font = list(color="red"))
)
p35
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year), frame = ~Year) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
p35
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year)) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year)) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
p35
runApp()
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year), size =3) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
p35
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year), size =1.3) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
p35
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year), size =1) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
p35
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year), size =0.3) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
p35
p35 <- reg_df %>%
plot_ly(x = ~rate_increasing, y = ~add_station, color = ~Type,
text = ~paste(Year)) %>%
layout(
xaxis = list(title = 'Rate of increasing vehicles',
gridcolor = 'rgb(255, 255, 255)',
range = c(-0.5,0.5),
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2),
yaxis = list(title = 'Stations added in one year(log)',
gridcolor = 'rgb(255, 255, 255)',
type = "log",
zerolinewidth = 1,
ticklen = 5,
gridwidth = 2)
)
p35
